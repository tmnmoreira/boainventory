<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Boa Bowls Inventory Manager</title>
    <link href="https://fonts.googleapis.com/css2?family=DM+Serif+Display:ital@0;1&family=IBM+Plex+Mono:wght@400;500;600&display=swap" rel="stylesheet">
    <style>

    body * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }

    body {
        --primary: #2D5F3F;
        --primary-light: #4A8B63;
        --accent: #E8C547;
        --danger: #D84C4C;
        --bg-main: #FFFEF9;
        --bg-card: #FFFFFF;
        --text-primary: #1A2E1A;
        --text-secondary: #5A6B5A;
        --border: #D4E3D4;
        --shadow: rgba(45, 95, 63, 0.08);
        
        font-family: 'IBM Plex Mono', monospace;
        background: var(--bg-main);
        color: var(--text-primary);
        line-height: 1.6;
        min-height: 100vh;
        background-image: 
            repeating-linear-gradient(90deg, transparent, transparent 49px, var(--border) 49px, var(--border) 50px),
            repeating-linear-gradient(0deg, transparent, transparent 49px, var(--border) 49px, var(--border) 50px);
        background-size: 50px 50px;
        animation: boaFadeIn 0.6s ease-out;
        padding: 40px 20px;
    }

    @import url('https://fonts.googleapis.com/css2?family=DM+Serif+Display:ital@0;1&family=IBM+Plex+Mono:wght@400;500;600&display=swap');

    @keyframes boaFadeIn {
        from { opacity: 0; transform: translateY(-10px); }
        to { opacity: 1; transform: translateY(0); }
    }

    body .container {
        max-width: 1200px;
        margin: 0 auto;
    }

    body .header {
        text-align: center;
        margin-bottom: 60px;
        animation: boaSlideDown 0.8s ease-out;
    }

    @keyframes boaSlideDown {
        from { opacity: 0; transform: translateY(-30px); }
        to { opacity: 1; transform: translateY(0); }
    }

    body .header h1 {
        font-family: 'DM Serif Display', serif;
        font-size: clamp(2.5rem, 6vw, 4rem);
        color: var(--primary);
        margin-bottom: 12px;
        letter-spacing: -0.02em;
        font-style: italic;
    }

    body .subtitle {
        font-size: 0.95rem;
        color: var(--text-secondary);
        text-transform: uppercase;
        letter-spacing: 0.15em;
        font-weight: 500;
    }

    body .info-bar {
        background: var(--bg-card);
        border: 2px solid var(--primary);
        border-radius: 12px;
        padding: 24px;
        margin-bottom: 40px;
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 20px;
        box-shadow: 0 8px 20px var(--shadow);
        animation: boaSlideUp 0.8s ease-out 0.2s both;
    }

    @keyframes boaSlideUp {
        from { opacity: 0; transform: translateY(20px); }
        to { opacity: 1; transform: translateY(0); }
    }

    body .info-item label {
        display: block;
        font-size: 0.75rem;
        text-transform: uppercase;
        letter-spacing: 0.1em;
        color: var(--text-secondary);
        margin-bottom: 8px;
        font-weight: 600;
    }

    body .info-item input {
        width: 100%;
        padding: 12px 16px;
        border: 2px solid var(--border);
        border-radius: 8px;
        font-family: 'IBM Plex Mono', monospace;
        font-size: 0.95rem;
        transition: all 0.3s ease;
        background: var(--bg-main);
    }

    body .info-item input:focus {
        outline: none;
        border-color: var(--primary);
        box-shadow: 0 0 0 3px rgba(45, 95, 63, 0.1);
    }

    body .category-section {
        background: var(--bg-card);
        border: 2px solid var(--primary);
        border-radius: 12px;
        padding: 32px;
        margin-bottom: 30px;
        box-shadow: 0 8px 20px var(--shadow);
        animation: boaSlideUp 0.8s ease-out calc(var(--index) * 0.1s) both;
    }

    body .category-title {
        font-family: 'DM Serif Display', serif;
        font-size: 1.75rem;
        color: var(--primary);
        margin-bottom: 24px;
        padding-bottom: 16px;
        border-bottom: 3px solid var(--accent);
        font-style: italic;
    }

    body .items-grid {
        display: grid;
        gap: 16px;
    }

    body .item-row {
        display: grid;
        grid-template-columns: 1fr auto;
        gap: 12px;
        align-items: start;
        padding: 16px;
        background: var(--bg-main);
        border: 1px solid var(--border);
        border-radius: 8px;
        transition: all 0.3s ease;
    }

    body .item-info {
        display: flex;
        flex-direction: column;
        gap: 6px;
    }

    body .item-meta {
        display: flex;
        gap: 12px;
        align-items: center;
        flex-wrap: wrap;
    }

    body .item-row:hover {
        border-color: var(--primary-light);
        box-shadow: 0 4px 12px var(--shadow);
        transform: translateX(4px);
    }

    body .item-row.low-stock {
        background: rgba(232, 197, 71, 0.1);
        border-color: var(--accent);
    }

    body .item-name {
        font-weight: 600;
        color: var(--text-primary);
        font-size: 0.95rem;
    }

    body .item-distributor {
        font-size: 0.85rem;
        color: var(--text-secondary);
    }

    body .item-minimum {
        font-size: 0.75rem;
        color: var(--text-secondary);
        background: rgba(45, 95, 63, 0.05);
        padding: 4px 8px;
        border-radius: 4px;
        white-space: nowrap;
    }

    body .item-notes {
        font-size: 0.8rem;
        color: var(--text-secondary);
        font-style: italic;
    }

    body .stock-input {
        display: flex;
        align-items: center;
        gap: 8px;
    }

    body .stock-input input {
        width: 80px;
        padding: 12px;
        border: 2px solid var(--border);
        border-radius: 8px;
        font-family: 'IBM Plex Mono', monospace;
        font-size: 1.1rem;
        font-weight: 600;
        text-align: center;
        transition: all 0.3s ease;
        background: white;
    }

    body .stock-input input:focus {
        outline: none;
        border-color: var(--primary);
        box-shadow: 0 0 0 3px rgba(45, 95, 63, 0.1);
    }

    body .stock-input input.warning {
        border-color: var(--accent);
        background: rgba(232, 197, 71, 0.1);
    }

    body .stock-input input.critical {
        border-color: var(--danger);
        background: rgba(216, 76, 76, 0.1);
    }

    body .status-indicator {
        width: 12px;
        height: 12px;
        border-radius: 50%;
        background: var(--border);
        transition: all 0.3s ease;
    }

    body .status-indicator.ok {
        background: var(--primary-light);
        box-shadow: 0 0 8px var(--primary-light);
    }

    body .status-indicator.warning {
        background: var(--accent);
        box-shadow: 0 0 8px var(--accent);
    }

    body .status-indicator.critical {
        background: var(--danger);
        box-shadow: 0 0 8px var(--danger);
        animation: boaPulse 2s infinite;
    }

    @keyframes boaPulse {
        0%, 100% { opacity: 1; }
        50% { opacity: 0.5; }
    }

    body .action-bar {
        position: sticky;
        top: 0;
        background: var(--primary);
        border-bottom: 2px solid var(--text-primary);
        padding: 12px 16px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        gap: 12px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        z-index: 100;
        animation: boaSlideDown 0.6s ease-out;
    }

    body .summary {
        display: flex;
        gap: 16px;
        color: white;
        flex: 1;
    }

    body .summary-item {
        text-align: center;
    }

    body .summary-value {
        font-size: 1.25rem;
        font-weight: 600;
        display: block;
        line-height: 1;
    }

    body .summary-label {
        font-size: 0.65rem;
        text-transform: uppercase;
        letter-spacing: 0.05em;
        opacity: 0.9;
        margin-top: 2px;
    }

    body .button-group {
        display: flex;
        gap: 8px;
    }

    body button {
        padding: 10px 16px;
        border: none;
        border-radius: 8px;
        font-family: 'IBM Plex Mono', monospace;
        font-size: 0.8rem;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 0.05em;
        cursor: pointer;
        transition: all 0.3s ease;
        white-space: nowrap;
    }

    body .btn-primary {
        background: var(--accent);
        color: var(--text-primary);
        box-shadow: 0 2px 8px rgba(232, 197, 71, 0.3);
    }

    body .btn-primary:hover {
        transform: translateY(-1px);
        box-shadow: 0 4px 12px rgba(232, 197, 71, 0.4);
    }

    body .btn-secondary {
        background: rgba(255, 255, 255, 0.15);
        color: white;
        border: 1px solid rgba(255, 255, 255, 0.3);
    }

    body .btn-secondary:hover {
        background: rgba(255, 255, 255, 0.25);
        transform: translateY(-1px);
    }

    body button:active {
        transform: translateY(0);
    }

    body button:disabled {
        opacity: 0.5;
        cursor: not-allowed;
    }

    body .modal {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(26, 46, 26, 0.9);
        backdrop-filter: blur(8px);
        z-index: 9999;
        align-items: center;
        justify-content: center;
        animation: boaFadeIn 0.3s ease-out;
    }

    body .modal.active {
        display: flex;
    }

    body .modal-content {
        background: var(--bg-card);
        border: 3px solid var(--primary);
        border-radius: 16px;
        padding: 40px;
        max-width: 600px;
        width: 90%;
        max-height: 80vh;
        overflow-y: auto;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
        animation: boaSlideUp 0.4s ease-out;
    }

    body .modal h2 {
        font-family: 'DM Serif Display', serif;
        font-size: 2rem;
        color: var(--primary);
        margin-bottom: 24px;
        font-style: italic;
    }

    body .modal label {
        display: block;
        margin-bottom: 8px;
        font-weight: 600;
        font-size: 0.9rem;
    }

    body .modal input {
        width: 100%;
        padding: 14px 16px;
        border: 2px solid var(--border);
        border-radius: 8px;
        font-family: 'IBM Plex Mono', monospace;
        font-size: 1rem;
        margin-bottom: 20px;
        transition: all 0.3s ease;
    }

    body .modal input:focus {
        outline: none;
        border-color: var(--primary);
        box-shadow: 0 0 0 3px rgba(45, 95, 63, 0.1);
    }

    body .shopping-list {
        background: var(--bg-main);
        border: 2px solid var(--primary);
        border-radius: 8px;
        padding: 20px;
        margin: 24px 0;
        max-height: 400px;
        overflow-y: auto;
    }

    body .shopping-item {
        padding: 12px 0;
        border-bottom: 1px solid var(--border);
        display: grid;
        grid-template-columns: 1fr auto;
        gap: 12px;
    }

    body .shopping-item:last-child {
        border-bottom: none;
    }

    body .shopping-item-name {
        font-weight: 600;
    }

    body .shopping-item-details {
        font-size: 0.85rem;
        color: var(--text-secondary);
        margin-top: 4px;
    }

    body .shopping-item-stock {
        text-align: right;
        font-weight: 600;
        color: var(--danger);
    }

    body .modal-actions {
        display: flex;
        gap: 12px;
        margin-top: 24px;
        flex-wrap: wrap;
    }

    body .modal-actions button {
        flex: 1;
        min-width: 140px;
    }

    body .btn-copy {
        background: var(--primary-light);
        color: white;
        border: 2px solid var(--primary-light);
    }

    body .btn-copy:hover {
        background: var(--primary);
        border-color: var(--primary);
        transform: translateY(-2px);
    }

    body .btn-copy.copied {
        background: var(--accent);
        color: var(--text-primary);
        border-color: var(--accent);
    }

    @media (max-width: 768px) {
        body {
            padding: 0;
        }

        body .container {
            padding: 0;
        }

        body .header {
            padding: 20px 16px;
            margin-bottom: 0;
        }

        body .header h1 {
            font-size: 2rem;
        }

        body .info-bar {
            margin: 0;
            border-radius: 0;
            border-left: none;
            border-right: none;
            padding: 16px;
            grid-template-columns: 1fr;
            gap: 12px;
        }

        body .category-section {
            border-radius: 0;
            border-left: none;
            border-right: none;
            padding: 20px 16px;
            margin-bottom: 0;
            border-bottom: none;
        }

        body .category-title {
            font-size: 1.5rem;
            margin-bottom: 16px;
            padding-bottom: 12px;
        }

        body .item-row {
            padding: 12px;
        }

        body .item-row:hover {
            transform: none;
        }

        body .action-bar {
            padding: 10px 12px;
            gap: 8px;
            flex-wrap: wrap;
        }

        body .summary {
            width: 100%;
            justify-content: space-between;
            gap: 8px;
        }

        body .summary-item {
            flex: 1;
        }

        body .summary-value {
            font-size: 1.1rem;
        }

        body .summary-label {
            font-size: 0.6rem;
        }

        body .button-group {
            width: 100%;
            gap: 6px;
        }

        body .button-group button {
            flex: 1;
            font-size: 0.75rem;
            padding: 8px 12px;
        }

        body .modal-content {
            width: 95%;
            padding: 24px 16px;
            max-height: 90vh;
        }

        body .modal h2 {
            font-size: 1.5rem;
            margin-bottom: 16px;
        }

        body .modal-actions button {
            min-width: auto;
            font-size: 0.75rem;
            padding: 10px 12px;
        }
    }

    body .toast {
        position: fixed;
        bottom: 100px;
        left: 50%;
        transform: translateX(-50%) translateY(100px);
        background: var(--primary);
        color: white;
        padding: 16px 24px;
        border-radius: 8px;
        box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3);
        z-index: 10000;
        font-weight: 600;
        opacity: 0;
        transition: all 0.4s ease;
    }

    body .toast.show {
        opacity: 1;
        transform: translateX(-50%) translateY(0);
    }

    </style>
</head>
<body>

    <div class="container">
        <div class="header">
            <h1> Boa Bowls</h1>
            <div class="subtitle">Inventory Management</div>
        </div>

        <div class="info-bar">
            <div class="info-item">
                <label>Staff Name</label>
                <input type="text" id="boaStaffName" placeholder="Enter your name">
            </div>
            <div class="info-item">
                <label>Date</label>
                <input type="date" id="boaInventoryDate">
            </div>
        </div>

        <div id="boaCategoriesContainer"></div>

        <div class="action-bar">
            <div class="summary">
                <div class="summary-item">
                    <span class="summary-value" id="boaTotalItems">0</span>
                    <span class="summary-label">Total Items</span>
                </div>
                <div class="summary-item">
                    <span class="summary-value" id="boaLowStockCount">0</span>
                    <span class="summary-label">Low Stock</span>
                </div>
                <div class="summary-item">
                    <span class="summary-value" id="boaCompletedCount">0</span>
                    <span class="summary-label">Completed</span>
                </div>
            </div>
            <div class="button-group">
                <button class="btn-copy" onclick="boaCopyReportDirect()" id="boaCopyDirectBtn">ðŸ“‹ Copy</button>
                <button class="btn-primary" onclick="boaOpenSMSModal()">ðŸ“± Share</button>
            </div>
        </div>
    </div>

    <!-- SMS Modal -->
    <div id="boaSmsModal" class="modal">
        <div class="modal-content">
            <h2>Send via SMS</h2>
            <label for="boaPhoneNumber">Phone Number</label>
            <input type="tel" id="boaPhoneNumber" placeholder="+1 (555) 123-4567" required>
            
            <label>Items to Order</label>
            <div class="shopping-list" id="boaShoppingList"></div>

            <div class="modal-actions">
                <button class="btn-secondary" onclick="boaCloseSMSModal()">Cancel</button>
                <button class="btn-copy" onclick="boaCopyReport()" id="boaCopyBtn">ðŸ“‹ Copy Report</button>
                <button class="btn-primary" onclick="boaSendSMS()">Send SMS</button>
            </div>
        </div>
    </div>

    <!-- Toast Notification -->
    <div id="boaToast" class="toast"></div>

    
    <script>

    const boaInventoryData = [
        {
                "category": "BASES",
                "item": "A\u00e7a\u00ed",
                "current_stock": "",
                "minimum_stock": 2.0,
                "distributor": "Sysco",
                "ordered": "",
                "notes": "When 2, Order 4"
        },
        {
                "category": "BASES",
                "item": "Pitaya (Dragon Fruit)",
                "current_stock": "",
                "minimum_stock": 1.0,
                "distributor": "Quantum",
                "ordered": "",
                "notes": ""
        },
        {
                "category": "BASES",
                "item": "Coconut",
                "current_stock": "",
                "minimum_stock": 1.0,
                "distributor": "Quantum",
                "ordered": "",
                "notes": ""
        },
        {
                "category": "BASES",
                "item": "Mango",
                "current_stock": "",
                "minimum_stock": 1.0,
                "distributor": "Quantum",
                "ordered": "",
                "notes": ""
        },
        {
                "category": "MILKS & WATERS",
                "item": "Whole Milk",
                "current_stock": "",
                "minimum_stock": 1.0,
                "distributor": "Costco",
                "ordered": "",
                "notes": "Buy 2"
        },
        {
                "category": "MILKS & WATERS",
                "item": "Almond Milk",
                "current_stock": "",
                "minimum_stock": 4.0,
                "distributor": "Costco",
                "ordered": "",
                "notes": "Buy 12 (1 case)"
        },
        {
                "category": "MILKS & WATERS",
                "item": "Coconut Milk",
                "current_stock": "",
                "minimum_stock": 3.0,
                "distributor": "Costco",
                "ordered": "",
                "notes": "Buy 6"
        },
        {
                "category": "MILKS & WATERS",
                "item": "Oat Milk",
                "current_stock": "",
                "minimum_stock": 1.0,
                "distributor": "Costco",
                "ordered": "",
                "notes": "Buy 3 (1 case)"
        },
        {
                "category": "MILKS & WATERS",
                "item": "Barista Coconut",
                "current_stock": "",
                "minimum_stock": 4.0,
                "distributor": "Sysco",
                "ordered": "",
                "notes": "Buy 12 (1 case)"
        },
        {
                "category": "MILKS & WATERS",
                "item": "Barista Almond",
                "current_stock": "",
                "minimum_stock": 3.0,
                "distributor": "Sysco",
                "ordered": "",
                "notes": "Buy 12 (1 case)"
        },
        {
                "category": "MILKS & WATERS",
                "item": "Barista Oat",
                "current_stock": "",
                "minimum_stock": 1.0,
                "distributor": "Sysco",
                "ordered": "",
                "notes": "Buy 12 (1 case)"
        },
        {
                "category": "MILKS & WATERS",
                "item": "Vegan Heavy Whipping Cream",
                "current_stock": "",
                "minimum_stock": 1.0,
                "distributor": "Whole Foods",
                "ordered": "",
                "notes": "Buy 3"
        },
        {
                "category": "MILKS & WATERS",
                "item": "Coconut Water",
                "current_stock": "",
                "minimum_stock": 1.0,
                "distributor": "Sysco",
                "ordered": "",
                "notes": "Buy 4"
        },
        {
                "category": "MILKS & WATERS",
                "item": "Plain Coconut H2O",
                "current_stock": "",
                "minimum_stock": 1.0,
                "distributor": "Sysco",
                "ordered": "",
                "notes": "Buy 12 (1 case)"
        },
        {
                "category": "MILKS & WATERS",
                "item": "Choco Coconut H2O",
                "current_stock": "",
                "minimum_stock": 1.0,
                "distributor": "Sysco",
                "ordered": "",
                "notes": "Buy 12 (1 case)"
        },
        {
                "category": "MILKS & WATERS",
                "item": "Pineapple Coconut H2O",
                "current_stock": "",
                "minimum_stock": 1.0,
                "distributor": "Sysco",
                "ordered": "",
                "notes": "Buy 12 (1 case)"
        },
        {
                "category": "MILKS & WATERS",
                "item": "Sparkling H2O",
                "current_stock": "",
                "minimum_stock": 2.0,
                "distributor": "Costco",
                "ordered": "",
                "notes": "Buy 1 case"
        },
        {
                "category": "BUTTERS & PROTEINS",
                "item": "Peanut Butter",
                "current_stock": "",
                "minimum_stock": 1.0,
                "distributor": "Websturant",
                "ordered": "",
                "notes": "Buy 3"
        },
        {
                "category": "BUTTERS & PROTEINS",
                "item": "Almond Butter",
                "current_stock": "",
                "minimum_stock": 1.0,
                "distributor": "Websturant",
                "ordered": "",
                "notes": ""
        },
        {
                "category": "BUTTERS & PROTEINS",
                "item": "Cashew Butter",
                "current_stock": "",
                "minimum_stock": 1.0,
                "distributor": "Quantum",
                "ordered": "",
                "notes": ""
        },
        {
                "category": "BUTTERS & PROTEINS",
                "item": "Nutella",
                "current_stock": "",
                "minimum_stock": 2.0,
                "distributor": "Costco",
                "ordered": "",
                "notes": "Buy 6"
        },
        {
                "category": "BUTTERS & PROTEINS",
                "item": "Choc Whey Protein",
                "current_stock": "",
                "minimum_stock": 1.0,
                "distributor": "Amazon",
                "ordered": "",
                "notes": "on auto order"
        },
        {
                "category": "BUTTERS & PROTEINS",
                "item": "Vanilla Whey Protein",
                "current_stock": "",
                "minimum_stock": 1.0,
                "distributor": "Amazon",
                "ordered": "",
                "notes": "on auto order"
        },
        {
                "category": "BUTTERS & PROTEINS",
                "item": "Peanut Butter Whey Protein",
                "current_stock": "",
                "minimum_stock": 1.0,
                "distributor": "Amazon",
                "ordered": "",
                "notes": "on auto order"
        },
        {
                "category": "BUTTERS & PROTEINS",
                "item": "Choc Vegan Protein",
                "current_stock": "",
                "minimum_stock": 1.0,
                "distributor": "Amazon",
                "ordered": "",
                "notes": "on auto order"
        },
        {
                "category": "BUTTERS & PROTEINS",
                "item": "Vanilla Vegan Protein",
                "current_stock": "",
                "minimum_stock": 1.0,
                "distributor": "Amazon",
                "ordered": "",
                "notes": "on auto order"
        },
        {
                "category": "BUTTERS & PROTEINS",
                "item": "Peanut Butter Vegan Protein",
                "current_stock": "",
                "minimum_stock": 1.0,
                "distributor": "Amazon",
                "ordered": "",
                "notes": "on auto order"
        },
        {
                "category": "CRUNCH & DRIZZLES",
                "item": "Maple Syrup",
                "current_stock": "",
                "minimum_stock": 0.0,
                "distributor": "Sysco",
                "ordered": "",
                "notes": "buy 1"
        },
        {
                "category": "CRUNCH & DRIZZLES",
                "item": "Honey",
                "current_stock": "",
                "minimum_stock": 0.0,
                "distributor": "Sysco",
                "ordered": "",
                "notes": "Buy 1"
        },
        {
                "category": "CRUNCH & DRIZZLES",
                "item": "Agave",
                "current_stock": "",
                "minimum_stock": 0.0,
                "distributor": "Sysco",
                "ordered": "",
                "notes": "Buy 2"
        },
        {
                "category": "CRUNCH & DRIZZLES",
                "item": "Granola",
                "current_stock": "",
                "minimum_stock": 2.0,
                "distributor": "Quantum",
                "ordered": "",
                "notes": "Buy 5"
        },
        {
                "category": "CRUNCH & DRIZZLES",
                "item": "Shredded Coconut",
                "current_stock": "",
                "minimum_stock": 1.0,
                "distributor": "Quantum",
                "ordered": "",
                "notes": "Buy 2"
        },
        {
                "category": "CRUNCH & DRIZZLES",
                "item": "Toasted Coconut",
                "current_stock": "",
                "minimum_stock": 0.5,
                "distributor": "Quantum",
                "ordered": "",
                "notes": "Buy 2"
        },
        {
                "category": "CRUNCH & DRIZZLES",
                "item": "Cacao Nibs",
                "current_stock": "",
                "minimum_stock": 0.0,
                "distributor": "Amazon",
                "ordered": "",
                "notes": "Buy 1"
        },
        {
                "category": "CRUNCH & DRIZZLES",
                "item": "Chocolate Chips",
                "current_stock": "",
                "minimum_stock": 1.0,
                "distributor": "Websturant",
                "ordered": "",
                "notes": "Buy 4"
        },
        {
                "category": "CRUNCH & DRIZZLES",
                "item": "Rolled Oats",
                "current_stock": "",
                "minimum_stock": 0.5,
                "distributor": "Amazon",
                "ordered": "",
                "notes": "Buy 2"
        },
        {
                "category": "CRUNCH & DRIZZLES",
                "item": "Chia Seeds",
                "current_stock": "",
                "minimum_stock": 0.0,
                "distributor": "Amazon",
                "ordered": "",
                "notes": "Buy 1"
        },
        {
                "category": "CRUNCH & DRIZZLES",
                "item": "Matcha",
                "current_stock": "",
                "minimum_stock": 0.5,
                "distributor": "Costco",
                "ordered": "",
                "notes": "Buy 1"
        },
        {
                "category": "CRUNCH & DRIZZLES",
                "item": "Spirulina (Blue)",
                "current_stock": "",
                "minimum_stock": 0.0,
                "distributor": "Amazon",
                "ordered": "",
                "notes": "Buy 1"
        },
        {
                "category": "CRUNCH & DRIZZLES",
                "item": "Spirulina (Green)",
                "current_stock": "",
                "minimum_stock": 0.0,
                "distributor": "Amazon",
                "ordered": "",
                "notes": "Buy 1"
        },
        {
                "category": "CRUNCH & DRIZZLES",
                "item": "Coops Caramel",
                "current_stock": "",
                "minimum_stock": 0.0,
                "distributor": "",
                "ordered": "",
                "notes": "Buy 4"
        },
        {
                "category": "CRUNCH & DRIZZLES",
                "item": "Coops Vegan Hot Fudge",
                "current_stock": "",
                "minimum_stock": 0.0,
                "distributor": "",
                "ordered": "",
                "notes": "Buy 4"
        },
        {
                "category": "CRUNCH & DRIZZLES",
                "item": "Coops OG Hot Fudge",
                "current_stock": "",
                "minimum_stock": 0.0,
                "distributor": "",
                "ordered": "",
                "notes": "Buy 4"
        },
        {
                "category": "CRUNCH & DRIZZLES",
                "item": "Pink House Vanilla Bean",
                "current_stock": "",
                "minimum_stock": 0.0,
                "distributor": "",
                "ordered": "",
                "notes": "Buy 4"
        },
        {
                "category": "CRUNCH & DRIZZLES",
                "item": "Pink House Lavender",
                "current_stock": "",
                "minimum_stock": 0.0,
                "distributor": "",
                "ordered": "",
                "notes": "Buy 2"
        },
        {
                "category": "CRUNCH & DRIZZLES",
                "item": "Pink House Sugar Free Vanilla",
                "current_stock": "",
                "minimum_stock": 0.0,
                "distributor": "",
                "ordered": "",
                "notes": "Buy 2"
        },
        {
                "category": "CRUNCH & DRIZZLES",
                "item": "Pink House Caramel",
                "current_stock": "",
                "minimum_stock": 0.0,
                "distributor": "",
                "ordered": "",
                "notes": "Buy 4"
        },
        {
                "category": "FROZEN FRUIT",
                "item": "Strawberries",
                "current_stock": "",
                "minimum_stock": 1.0,
                "distributor": "",
                "ordered": "",
                "notes": "Buy 2"
        },
        {
                "category": "FROZEN FRUIT",
                "item": "Blueberries",
                "current_stock": "",
                "minimum_stock": 1.0,
                "distributor": "",
                "ordered": "",
                "notes": "Buy 2"
        },
        {
                "category": "FROZEN FRUIT",
                "item": "Pineapple",
                "current_stock": "",
                "minimum_stock": 1.0,
                "distributor": "",
                "ordered": "",
                "notes": "Buy 1"
        },
        {
                "category": "FROZEN FRUIT",
                "item": "Banana",
                "current_stock": "",
                "minimum_stock": 0.0,
                "distributor": "",
                "ordered": "",
                "notes": "Buy 2"
        },
        {
                "category": "FROZEN FRUIT",
                "item": "Raspberry",
                "current_stock": "",
                "minimum_stock": 1.0,
                "distributor": "",
                "ordered": "",
                "notes": "Buy 1"
        },
        {
                "category": "FROZEN FRUIT",
                "item": "Avocado",
                "current_stock": "",
                "minimum_stock": 12.0,
                "distributor": "",
                "ordered": "",
                "notes": "1 box"
        },
        {
                "category": "Gloves",
                "item": "Napkins",
                "current_stock": "",
                "minimum_stock": 1.0,
                "distributor": "",
                "ordered": "",
                "notes": ""
        },
        {
                "category": "Gloves",
                "item": "Small Straws",
                "current_stock": "",
                "minimum_stock": 1.0,
                "distributor": "",
                "ordered": "",
                "notes": ""
        },
        {
                "category": "Gloves",
                "item": "Large Straws",
                "current_stock": "",
                "minimum_stock": 1.0,
                "distributor": "",
                "ordered": "",
                "notes": ""
        },
        {
                "category": "Gloves",
                "item": "16oz Bowls",
                "current_stock": "",
                "minimum_stock": 4.0,
                "distributor": "",
                "ordered": "",
                "notes": ""
        },
        {
                "category": "Gloves",
                "item": "12oz Bowls",
                "current_stock": "",
                "minimum_stock": 4.0,
                "distributor": "",
                "ordered": "",
                "notes": ""
        },
        {
                "category": "Gloves",
                "item": "5.5oz Bowls",
                "current_stock": "",
                "minimum_stock": 100.0,
                "distributor": "",
                "ordered": "",
                "notes": ""
        },
        {
                "category": "Gloves",
                "item": "Dome Bowl Lids",
                "current_stock": "",
                "minimum_stock": 4.0,
                "distributor": "",
                "ordered": "",
                "notes": ""
        },
        {
                "category": "Gloves",
                "item": "Flat Bowl Lids",
                "current_stock": "",
                "minimum_stock": 2.0,
                "distributor": "",
                "ordered": "",
                "notes": ""
        },
        {
                "category": "Gloves",
                "item": "5.5oz Bowl Lids",
                "current_stock": "",
                "minimum_stock": 100.0,
                "distributor": "",
                "ordered": "",
                "notes": ""
        },
        {
                "category": "Gloves",
                "item": "Drink Holders (4)",
                "current_stock": "",
                "minimum_stock": 1.0,
                "distributor": "",
                "ordered": "",
                "notes": ""
        },
        {
                "category": "Gloves",
                "item": "Drink Holders (2)",
                "current_stock": "",
                "minimum_stock": 1.0,
                "distributor": "",
                "ordered": "",
                "notes": ""
        },
        {
                "category": "Gloves",
                "item": "12oz Hot Cups",
                "current_stock": "",
                "minimum_stock": 100.0,
                "distributor": "",
                "ordered": "",
                "notes": ""
        },
        {
                "category": "Gloves",
                "item": "16oz Hot Cups",
                "current_stock": "",
                "minimum_stock": 100.0,
                "distributor": "",
                "ordered": "",
                "notes": ""
        },
        {
                "category": "Gloves",
                "item": "20oz Hot Cups",
                "current_stock": "",
                "minimum_stock": 100.0,
                "distributor": "",
                "ordered": "",
                "notes": ""
        },
        {
                "category": "Gloves",
                "item": "16oz Plastic Cups",
                "current_stock": "",
                "minimum_stock": 100.0,
                "distributor": "",
                "ordered": "",
                "notes": ""
        },
        {
                "category": "Gloves",
                "item": "20oz Plastic Cups",
                "current_stock": "",
                "minimum_stock": 100.0,
                "distributor": "",
                "ordered": "",
                "notes": ""
        },
        {
                "category": "Gloves",
                "item": "Water Cups",
                "current_stock": "",
                "minimum_stock": 25.0,
                "distributor": "Costco",
                "ordered": "",
                "notes": ""
        },
        {
                "category": "Gloves",
                "item": "Hot Lids",
                "current_stock": "",
                "minimum_stock": 100.0,
                "distributor": "",
                "ordered": "",
                "notes": ""
        },
        {
                "category": "Gloves",
                "item": "Cold Lids",
                "current_stock": "",
                "minimum_stock": 100.0,
                "distributor": "",
                "ordered": "",
                "notes": ""
        },
        {
                "category": "Gloves",
                "item": "Coffee Cold Lids",
                "current_stock": "",
                "minimum_stock": 1.0,
                "distributor": "",
                "ordered": "",
                "notes": ""
        },
        {
                "category": "Gloves",
                "item": "Small Paper Bags",
                "current_stock": "",
                "minimum_stock": 0.0,
                "distributor": "",
                "ordered": "",
                "notes": "Buy 1"
        },
        {
                "category": "Large Paper Bags",
                "item": "Pastry Bags",
                "current_stock": "",
                "minimum_stock": 1.0,
                "distributor": "",
                "ordered": "",
                "notes": ""
        },
        {
                "category": "Printer Paper",
                "item": "Toilet Bowl Cleaner",
                "current_stock": "",
                "minimum_stock": 1.0,
                "distributor": "Costco",
                "ordered": "",
                "notes": ""
        },
        {
                "category": "Printer Paper",
                "item": "Clorox Wipes",
                "current_stock": "",
                "minimum_stock": 1.0,
                "distributor": "",
                "ordered": "",
                "notes": ""
        },
        {
                "category": "Printer Paper",
                "item": "Paper Towel Rolls (dispenser)",
                "current_stock": "",
                "minimum_stock": 1.0,
                "distributor": "",
                "ordered": "",
                "notes": ""
        },
        {
                "category": "Dish Soap",
                "item": "Hand Soap (foaming)",
                "current_stock": "",
                "minimum_stock": 0.0,
                "distributor": "",
                "ordered": "",
                "notes": ""
        }
];

    // Group items by category
    const boaCategories = {};
    boaInventoryData.forEach(item => {
        if (!boaCategories[item.category]) {
            boaCategories[item.category] = [];
        }
        boaCategories[item.category].push(item);
    });

    // Initialize the form
    function boaInitializeForm() {
        const container = document.getElementById('boaCategoriesContainer');
        const today = new Date().toISOString().split('T')[0];
        document.getElementById('boaInventoryDate').value = today;

        let index = 0;
        Object.entries(boaCategories).forEach(([category, items]) => {
            const section = document.createElement('div');
            section.className = 'category-section';
            section.style.setProperty('--index', index++);

            let itemsHTML = items.map((item, i) => `
                <div class="item-row" data-item-index="${item.item}">
                    <div class="item-info">
                        <div class="item-name">${item.item}</div>
                        <div class="item-meta">
                            <span class="item-distributor">${item.distributor}</span>
                            <span class="item-minimum">Min: ${item.minimum_stock}</span>
                        </div>
                        ${item.notes ? `<div class="item-notes">${item.notes}</div>` : ''}
                    </div>
                    <div class="stock-input">
                        <input 
                            type="number" 
                            min="0" 
                            step="0.5"
                            placeholder="0"
                            data-item="${item.item}"
                            data-min="${item.minimum_stock}"
                            oninput="boaUpdateStock(this)"
                        >
                        <div class="status-indicator" data-status="${item.item}"></div>
                    </div>
                </div>
            `).join('');

            section.innerHTML = `
                <h3 class="category-title">${category}</h3>
                <div class="items-grid">
                    ${itemsHTML}
                </div>
            `;

            container.appendChild(section);
        });

        boaUpdateSummary();
    }

    window.boaUpdateStock = function(input) {
        const value = parseFloat(input.value) || 0;
        const min = parseFloat(input.dataset.min);
        const itemName = input.dataset.item;
        const row = input.closest('.item-row');
        const statusIndicator = row.querySelector('.status-indicator');

        // Update input styling
        input.classList.remove('warning', 'critical');
        if (value === 0) {
            input.classList.add('critical');
        } else if (value < min) {
            input.classList.add('warning');
        }

        // Update row styling
        row.classList.toggle('low-stock', value < min);

        // Update status indicator
        statusIndicator.classList.remove('ok', 'warning', 'critical');
        if (value === 0) {
            statusIndicator.classList.add('critical');
        } else if (value < min) {
            statusIndicator.classList.add('warning');
        } else {
            statusIndicator.classList.add('ok');
        }

        boaUpdateSummary();
    }

    function boaUpdateSummary() {
        const inputs = document.querySelectorAll('.stock-input input');
        const totalItems = inputs.length;
        let lowStockCount = 0;
        let completedCount = 0;

        inputs.forEach(input => {
            const value = parseFloat(input.value);
            const min = parseFloat(input.dataset.min);
            
            if (!isNaN(value)) {
                completedCount++;
                if (value < min) {
                    lowStockCount++;
                }
            }
        });

        document.getElementById('boaTotalItems').textContent = totalItems;
        document.getElementById('boaLowStockCount').textContent = lowStockCount;
        document.getElementById('boaCompletedCount').textContent = completedCount;
    }

    function boaGetLowStockItems() {
        const inputs = document.querySelectorAll('.stock-input input');
        const lowStockItems = [];

        inputs.forEach(input => {
            const value = parseFloat(input.value);
            const min = parseFloat(input.dataset.min);
            const itemName = input.dataset.item;

            if (!isNaN(value) && value < min) {
                const itemData = boaInventoryData.find(item => item.item === itemName);
                lowStockItems.push({
                    ...itemData,
                    current_stock: value,
                    needed: min - value
                });
            }
        });

        return lowStockItems;
    }

    window.boaGenerateReport = function() {
        const lowStockItems = boaGetLowStockItems();
        
        if (lowStockItems.length === 0) {
            boaShowToast('âœ“ All items are well stocked!');
            return;
        }

        let report = `Boa BOWLS INVENTORY REPORT\n`;
        report += `Date: ${document.getElementById('boaInventoryDate').value}\n`;
        report += `Staff: ${document.getElementById('boaStaffName').value || 'Not specified'}\n\n`;
        report += `ITEMS TO ORDER (${lowStockItems.length}):\n`;
        report += `${'='.repeat(50)}\n\n`;

        const byDistributor = {};
        lowStockItems.forEach(item => {
            if (!byDistributor[item.distributor]) {
                byDistributor[item.distributor] = [];
            }
            byDistributor[item.distributor].push(item);
        });

        Object.entries(byDistributor).forEach(([distributor, items]) => {
            report += `${distributor.toUpperCase()}\n`;
            report += `-`.repeat(50) + '\n';
            items.forEach(item => {
                report += `â€¢ ${item.item}\n`;
                report += `  Current: ${item.current_stock} | Minimum: ${item.minimum_stock}\n`;
                if (item.notes) {
                    report += `  Note: ${item.notes}\n`;
                }
                report += '\n';
            });
            report += '\n';
        });

        // Create a downloadable text file
        const blob = new Blob([report], { type: 'text/plain' });
        const url = URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url;
        a.download = `inventory-report-${new Date().toISOString().split('T')[0]}.txt`;
        a.click();
        URL.revokeObjectURL(url);

        boaShowToast('âœ“ Report downloaded!');
    }

    window.boaOpenSMSModal = function() {
        const lowStockItems = boaGetLowStockItems();
        
        if (lowStockItems.length === 0) {
            boaShowToast('âœ“ All items are well stocked!');
            return;
        }

        const listContainer = document.getElementById('boaShoppingList');
        listContainer.innerHTML = '';

        lowStockItems.forEach(item => {
            const div = document.createElement('div');
            div.className = 'shopping-item';
            div.innerHTML = `
                <div>
                    <div class="shopping-item-name">${item.item}</div>
                    <div class="shopping-item-details">
                        ${item.distributor}${item.notes ? ' â€¢ ' + item.notes : ''}
                    </div>
                </div>
                <div class="shopping-item-stock">
                    ${item.current_stock}/${item.minimum_stock}
                </div>
            `;
            listContainer.appendChild(div);
        });

        document.getElementById('boaSmsModal').classList.add('active');
    }

    window.boaCloseSMSModal = function() {
        document.getElementById('boaSmsModal').classList.remove('active');
    }

    window.boaCopyReportDirect = function() {
        const lowStockItems = boaGetLowStockItems();
        
        if (lowStockItems.length === 0) {
            boaShowToast('âœ“ All items are well stocked!');
            return;
        }

        const message = boaGenerateTextMessage();
        
        // Try modern clipboard API first
        if (navigator.clipboard && window.isSecureContext) {
            navigator.clipboard.writeText(message).then(() => {
                const btn = document.getElementById('boaCopyDirectBtn');
                const originalText = btn.innerHTML;
                btn.innerHTML = 'âœ“ Copied!';
                btn.classList.add('copied');
                
                boaShowToast('âœ“ Report copied! Paste it in your SMS app');
                
                setTimeout(() => {
                    btn.innerHTML = originalText;
                    btn.classList.remove('copied');
                }, 2000);
            }).catch(err => {
                boaFallbackCopy(message);
            });
        } else {
            // Fallback for mobile browsers without secure context
            boaFallbackCopy(message);
        }
    }

    function boaFallbackCopy(text) {
        // Create a temporary textarea
        const textarea = document.createElement('textarea');
        textarea.value = text;
        textarea.style.position = 'fixed';
        textarea.style.top = '0';
        textarea.style.left = '0';
        textarea.style.width = '2em';
        textarea.style.height = '2em';
        textarea.style.padding = '0';
        textarea.style.border = 'none';
        textarea.style.outline = 'none';
        textarea.style.boxShadow = 'none';
        textarea.style.background = 'transparent';
        textarea.style.opacity = '0';
        
        document.body.appendChild(textarea);
        textarea.focus();
        textarea.select();
        textarea.setSelectionRange(0, textarea.value.length);
        
        try {
            const successful = document.execCommand('copy');
            if (successful) {
                const btn = document.getElementById('boaCopyDirectBtn');
                const originalText = btn.innerHTML;
                btn.innerHTML = 'âœ“ Copied!';
                btn.classList.add('copied');
                
                boaShowToast('âœ“ Report copied! Paste it in your SMS app');
                
                setTimeout(() => {
                    btn.innerHTML = originalText;
                    btn.classList.remove('copied');
                }, 2000);
            } else {
                boaShowToast('âš  Please use Share button instead');
            }
        } catch (err) {
            boaShowToast('âš  Please use Share button instead');
        }
        
        document.body.removeChild(textarea);
    }

    window.boaSendSMS = function() {
        const phoneNumber = document.getElementById('boaPhoneNumber').value;
        
        if (!phoneNumber) {
            boaShowToast('âš  Please enter a phone number');
            return;
        }

        const message = boaGenerateTextMessage();

        // Encode message for SMS
        const smsURL = `sms:${phoneNumber}?body=${encodeURIComponent(message)}`;
        window.location.href = smsURL;

        boaShowToast('âœ“ Opening SMS app...');
        setTimeout(() => {
            boaCloseSMSModal();
        }, 1000);
    }

    window.boaCopyReport = function() {
        const message = boaGenerateTextMessage();
        
        // Copy to clipboard
        navigator.clipboard.writeText(message).then(() => {
            const btn = document.getElementById('boaCopyBtn');
            const originalText = btn.innerHTML;
            btn.innerHTML = 'âœ“ Copied!';
            btn.classList.add('copied');
            
            boaShowToast('âœ“ Report copied to clipboard!');
            
            setTimeout(() => {
                btn.innerHTML = originalText;
                btn.classList.remove('copied');
            }, 2000);
        }).catch(err => {
            boaShowToast('âš  Could not copy. Please try manually.');
        });
    }

    function boaGenerateTextMessage() {
        const lowStockItems = boaGetLowStockItems();
        const staffName = document.getElementById('boaStaffName').value;
        const date = document.getElementById('boaInventoryDate').value;
        
        let message = `!!!Boa BOWLS - Inventory Alert!!!\n\n`;
        
        if (staffName) {
            message += `Staff: ${staffName}\n`;
        }
        if (date) {
            message += `Date: ${date}\n`;
        }
        message += `\n`;
        
        message += `ðŸ“¦ ${lowStockItems.length} item${lowStockItems.length !== 1 ? 's' : ''} need${lowStockItems.length === 1 ? 's' : ''} restocking:\n\n`;

        const byDistributor = {};
        lowStockItems.forEach(item => {
            if (!byDistributor[item.distributor]) {
                byDistributor[item.distributor] = [];
            }
            byDistributor[item.distributor].push(item);
        });

        Object.entries(byDistributor).forEach(([distributor, items]) => {
            message += `ðŸ“ ${distributor.toUpperCase()}\n`;
            items.forEach(item => {
                message += `  â€¢ ${item.item}`;
                message += ` (${item.current_stock}/${item.minimum_stock})`;
                if (item.notes) {
                    message += `\n    â†’ ${item.notes}`;
                }
                message += '\n';
            });
            message += '\n';
        });

        return message;
    }

    function boaShowToast(message) {
        const toast = document.getElementById('boaToast');
        toast.textContent = message;
        toast.classList.add('show');
        setTimeout(() => {
            toast.classList.remove('show');
        }, 3000);
    }

    // Close modal on outside click
    document.getElementById('boaSmsModal').addEventListener('click', (e) => {
        if (e.target.id === 'boaSmsModal') {
            boaCloseSMSModal();
        }
    });

    // Initialize on load
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', boaInitializeForm);
    } else {
        boaInitializeForm();
    }

    </script>
</body>
</html>
